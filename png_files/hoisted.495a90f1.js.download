import"./hoisted.1a30a975.js";import{a as c,d as y}from"./index.ddd2b5a1.js";import{h as f}from"./index.b93551d5.js";import"./hoisted.efbfdfb2.js";import"./lazy.ec63ec52.js";import"./index.f0e906af.js";import"./index.68a3cb8a.js";import"./preload-helper.e8d31950.js";function h(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*e(){}h.g=e}const g='input[name="prfRealName"],input[name="prfCompanyName"]',m="_g6b",v="._q9b label",t={},u="sorry,there are some problems,please contract us...";document.addEventListener("down:prf",e=>{Object.assign(t,e.detail),_()});c("input",g,function(){this.parentElement.querySelector("span").hidden=!!this.value});let l=null;c("click",v,function(){this.classList.add(m),l=this},()=>{l&&(l.classList.remove(m),l=null)});c("click","._r9b",function(){const e=b();if(e){this.disabled=!0;const o="/api/message/vrf-name"+(t.hasBuy?"-one":t.isTeam?"-team":""),a={name:e.prfRealName,company_name:e.prfCompanyName,...t.data};f.get(o,a).then(n=>{this.disabled=!1,d(!1),n.status==1&&n.url?p(n.url):n.status==404&&alert(u)}).catch(()=>{this.disabled=!1})}});function b(){const{isTeam:e}=t,s=["prfRealName",e?"prfCompanyName":""],o=new Set,a={};for(const n of s){if(!n)continue;const i=document.querySelector('._q9b input[name="'.concat(n,'"]'));if(i){const r=i.value.trim();i.parentElement.classList[r?"remove":"add"]("_vzb"),r?a[i.name]=r:o.add(0)}}return o.size?null:a}function d(e){y(document,"dialog:toggle",{name:"prfActualName",show:e})}function p(e){const s=document.getElementById("down_prf_ifr");s?s.src=e:window.open(e)}async function _(){const e=t.data;if(!e)return;const o="/api/message/vrf-file"+(t.hasBuy?"-one":t.isTeam?"-team":"");f.get(o,{id:e.id,type:e.type,slidesdocs:e.slidesdocs||void 0,controller:e.controller}).then(a=>{if(a.status==1&&a.url)p(a.url);else if(!t.isTeam&&a.status==2)alert("sorry,you cannot download personal PRF");else if(a.status==404)alert(u);else{if(a.name){const n=document.querySelector('input[name="prfRealName"]');n&&(n.value=a.name)}d(!0)}}).then(t.resolve).catch(t.reject).finally(()=>{delete t.resolve,delete t.reject})}export{h as __vite_legacy_guard};